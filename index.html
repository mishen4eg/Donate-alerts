<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Donate Alert</title>

<style>
body {
  margin: 0;
  background: transparent;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

#alert {
  display: none;
  position: absolute;
  top: 40%;
  width: 100%;
  text-align: center;
}

#alert img {
  width: 300px;
}

#text {
  margin-top: 10px;
  font-size: 28px;
  color: white;
  text-shadow: 0 0 10px black;
  white-space: pre-line;
}
</style>
</head>

<body>

<div id="alert">
  <img src="alert.gif">
  <div id="text"></div>
</div>

<script>
let lastId = 0;

setInterval(async () => {
  try {
    const res = await fetch("alerts.json?_=" + Date.now());
    const data = await res.json();

    if (data.id !== lastId && data.id !== 0) {
      lastId = data.id;
      showAlert(data);
    }
  } catch (e) {}
}, 2000);

function showAlert(data) {
  const alert = document.getElementById("alert");
  const text = document.getElementById("text");

  text.innerText =
    `${data.name} задонатил ${data.amount} ⭐\n${data.message}`;

  alert.style.display = "block";

  setTimeout(() => {
    alert.style.display = "none";
  }, 7000);
}
</script>

</body>
</html>
